#include "mkl_GPIOPort.h"

mkl_GPIOPort blueLed(gpio_PTD1);
mkl_GPIOPort redLed(gpio_PTB18);

/*!
 *   @fn         setup
 *
 *   @brief      Realiza a configura��o do perif�rico para a entrada e sa�da.
 *
 *   Este procedimento realiza a configura��o do pino PTA1 do GPIO para o modo
 *   entrada e a configura��o do pino PTD1 para o modo sa�da (RGB)
 *
 *   @details    O led RGB � do tipo anodo comum.
 */
void setup() {
  /*!
   * Configura o pino para o modo sa�da.
   */
  blueLed.setPortMode(gpio_output);
  redLed.setPortMode(gpio_output);
  /*!
   * Configura o pino para o modo entrada com resistor de pull up.
   */

}

/*!
 *   @fn     main
 *
 *   @brief    Acende um led conforme a situa��o de uma chave.
 *
 *   Este programa realiza o teste da classe do perif�rico GPIO, onde
 *   duas portas s�o configuradas, uma como entrada e a outra como
 *   sa�da. O valor lido na entrada � escrito na sa�da.
 *
 *   @details  A porta configurada como entrada possui um resistor de pull-up
 *             interno, sendo necess�rio a liga��o da chave ao terra.
 *
 *   @return  sempre retorna o valor 0.
 */
int main() {
  bool bit = 0;
  uint32_t contador = 0;

  setup();

  while (true) {
    contador++;
    if(contador >= 200000){
      bit = !bit;
      contador = 0;
    }
    redLed.writeBit(bit);
    blueLed.writeBit(!bit);
  }

  return 0;
}
